<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>功能分支工作流 | 杨煜庭的博客</title>
    <meta name="description" content="Just playing around">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/gitflow/favicon.ico">
    
    <link rel="preload" href="/gitflow/assets/css/0.styles.9239f6ad.css" as="style"><link rel="preload" href="/gitflow/assets/js/app.9ae11dac.js" as="script"><link rel="preload" href="/gitflow/assets/js/2.874e22fe.js" as="script"><link rel="preload" href="/gitflow/assets/js/9.5de3997f.js" as="script"><link rel="prefetch" href="/gitflow/assets/js/10.f92a5ff3.js"><link rel="prefetch" href="/gitflow/assets/js/11.336f9567.js"><link rel="prefetch" href="/gitflow/assets/js/12.c6f152b6.js"><link rel="prefetch" href="/gitflow/assets/js/13.b8a6042b.js"><link rel="prefetch" href="/gitflow/assets/js/14.acd01ad8.js"><link rel="prefetch" href="/gitflow/assets/js/15.b14c02f9.js"><link rel="prefetch" href="/gitflow/assets/js/16.790d431a.js"><link rel="prefetch" href="/gitflow/assets/js/3.62ce4935.js"><link rel="prefetch" href="/gitflow/assets/js/4.70f6da89.js"><link rel="prefetch" href="/gitflow/assets/js/5.1172d456.js"><link rel="prefetch" href="/gitflow/assets/js/6.39615f05.js"><link rel="prefetch" href="/gitflow/assets/js/7.53c29639.js"><link rel="prefetch" href="/gitflow/assets/js/8.e65d0679.js">
    <link rel="stylesheet" href="/gitflow/assets/css/0.styles.9239f6ad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gitflow/" class="home-link router-link-active"><!----> <span class="site-name">杨煜庭的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gitflow/zh/guides/" class="nav-link router-link-active">
  工作流介绍
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gitflow/zh/guides/" class="nav-link router-link-active">
  工作流介绍
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/gitflow/zh/guides/centralized.html" class="sidebar-link">集中式工作流</a></li><li><a href="/gitflow/zh/guides/feature.html" class="active sidebar-link">功能分支工作流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gitflow/zh/guides/feature.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/gitflow/zh/guides/feature.html#工作方式" class="sidebar-link">工作方式</a></li><li class="sidebar-sub-header"><a href="/gitflow/zh/guides/feature.html#pull-requests" class="sidebar-link">Pull Requests</a></li></ul></li><li><a href="/gitflow/zh/guides/gitFlow.html" class="sidebar-link">git flow 工作流</a></li><li><a href="/gitflow/zh/guides/forking.html" class="sidebar-link">forking 工作流</a></li><li><a href="/gitflow/zh/guides/githubFlow.html" class="sidebar-link">github flow 工作流</a></li><li><a href="/gitflow/zh/guides/gitlabFlow.html" class="sidebar-link">gitlab flow 工作流</a></li><li><a href="/gitflow/zh/guides/AoneFlow.html" class="sidebar-link">Aone flow 工作流</a></li><li><a href="/gitflow/zh/guides/commitizen.html" class="sidebar-link">commit规范</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="功能分支工作流"><a href="#功能分支工作流" class="header-anchor">#</a> 功能分支工作流</h1> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p><img src="/gitflow/assets/img/git-workflow-feature-branch-1.8f94b280.png" alt="The Feathers chat application"></p> <p>功能分支工作流背后的核心思路是所有的功能开发应该在一个专门的分支，而不是在 master 分支上。这个隔离可以方便多个开发者在各自的功能上开发而不会弄乱主干代码。
另外，也保证了 master 分支的代码一定不会是有问题的，极大有利于集成环境。</p> <p>功能开发隔离也让 pull requests 工作流成功可能，pull requests 工作流能为每个分支发起一个讨论，在分支合入正式项目之前，给其它开发者有表示赞同的机会。另外，
如果你在功能开发中有问题卡住了，可以开一个 pull requests 来向同学们征求建议。这些做法的重点就是，pull requests 让团队成员之间互相评论工作变成非常方便！</p> <h2 id="工作方式"><a href="#工作方式" class="header-anchor">#</a> 工作方式</h2> <p>功能分支工作流仍然用中央仓库，并且 master 分支还是代表了正式项目的历史。但不是直接提交本地历史到各自的本地 master 分支，
开发者每次在开始新功能前先创建一个新分支。功能分支应该有个有描述性的名字，比如 animated-menu-items 或 issue-#1061，这样可以让分支有个清楚且高聚焦的用途。</p> <p>在 master 分支和功能分支之间，Git 是没有技术上的区别，所以开发者可以用和集中式工作流中完全一样的方式编辑、暂存和提交修改到功能分支上。</p> <p>另外，功能分支也可以（且应该）push 到中央仓库中。这样不修改正式代码就可以和其它开发者分享提交的功能。由于 master 仅有的一个『特殊』分支，
在中央仓库上存多个功能分支不会有任何问题。当然，这样做也可以很方便地备份各自的本地提交。</p> <h2 id="pull-requests"><a href="#pull-requests" class="header-anchor">#</a> Pull Requests</h2> <p>功能分支除了可以隔离功能的开发，也使得通过 Pull Requests 讨论变更成为可能。一旦某个开发完成一个功能，不是立即合并到 master，而是 push 到中央仓库的功能分支上并发起一个 Pull Request 请求去合并修改到 master。在修改成为主干代码前，这让其它的开发者有机会先去 Review 变更。</p> <p>Code Review 是 Pull Requests 的一个重要的收益，但 Pull Requests 目的是讨论代码一个通用方式。你可以把 Pull Requests 作为专门给某个分支的讨论。这意味着可以在更早的开发过程中就可以进行 Code Review。比如，一个开发者开发功能需要帮助时，要做的就是发起一个 Pull Request，相关的人就会自动收到通知，在相关的提交旁边能看到需要帮助解决的问题。</p> <p>一旦 Pull Request 被接受了，发布功能要做的就和集中式工作流就很像了。首先，确定本地的 master 分支和上游的 master 分支是同步的。然后合并功能分支到本地 master 分支并 push 已经更新的本地 master 分支到中央仓库。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/gitflow/zh/guides/centralized.html" class="prev">
        集中式工作流
      </a></span> <span class="next"><a href="/gitflow/zh/guides/gitFlow.html">
        git flow 工作流
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/gitflow/assets/js/app.9ae11dac.js" defer></script><script src="/gitflow/assets/js/2.874e22fe.js" defer></script><script src="/gitflow/assets/js/9.5de3997f.js" defer></script>
  </body>
</html>
